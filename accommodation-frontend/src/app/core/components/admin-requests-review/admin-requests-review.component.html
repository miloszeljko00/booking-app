<div class="container">
    <table mat-table [dataSource]="dataSourceRequests">
        <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> Guest email </th>
            <td mat-cell *matCellDef="let req" class="cell-center">{{req.guestEmail}}</td>
        </ng-container>
        <ng-container matColumnDef="name">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> Accommodation name </th>
            <td mat-cell *matCellDef="let req" class="cell-center">{{req.accommodationName}}</td>
        </ng-container>
        <ng-container matColumnDef="start">
          <th mat-header-cell *matHeaderCellDef class="cell-center"> Start date </th>
          <td mat-cell *matCellDef="let req" class="cell-center">{{req.start | date:'dd.MM.yyyy. HH:mm' }}</td>
        </ng-container>
        <ng-container matColumnDef="end">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> End date </th>
            <td mat-cell *matCellDef="let req" class="cell-center">{{req.end| date:'dd.MM.yyyy. HH:mm' }}</td>
        </ng-container>
        <ng-container matColumnDef="numberOfGuests">
          <th mat-header-cell *matHeaderCellDef class="cell-center"> Number of guests </th>
          <td mat-cell *matCellDef="let req" class="cell-center">{{req.guestNumber}}</td>
        </ng-container>
        <ng-container matColumnDef="numberOfCancellations">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> Number of cancellations </th>
            <td mat-cell *matCellDef="let req" class="cell-center">{{req.cancellationNumber}}</td>
          </ng-container>
        <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef class="cell-center"> Request status </th>
            <td [ngClass]="{'green': req.status === 'ACCEPTED', 'red': req.status === 'REJECTED', 'orange': req.status === 'PENDING'}" mat-cell *matCellDef="let req" class="cell-center">{{req.status}}</td>
        </ng-container>
        <ng-container matColumnDef="accept">
          <th mat-header-cell *matHeaderCellDef class="cell-center"></th>
          <td mat-cell *matCellDef="let req" class="cell-center">
            <button mat-raised-button color="primary" (click)="manageRequest(req, 'ACCEPT')" [disabled]="req.status === 'ACCEPTED' || req.status === 'REJECTED'">Accept request</button>
          </td>
        </ng-container>
        <ng-container matColumnDef="reject">
            <th mat-header-cell *matHeaderCellDef class="cell-center"></th>
            <td mat-cell *matCellDef="let req" class="cell-center">
            <button mat-raised-button color="warn" (click)="manageRequest(req, 'REJECT')" [disabled]="req.status === 'ACCEPTED' || req.status === 'REJECTED'">Reject request</button>
            </td>
        </ng-container>
        <tr mat-header-row *matHeaderRowDef="displayedColumnsRequests; sticky: true"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumnsRequests;"></tr>
    </table>
  </div>